<?xml version="1.0" encoding="UTF-8"?>
<!-- Foundation -->
<window id="0">
    <include condition="![Skin.HasSetting(home.vertical) + Skin.HasSetting(home.vertical.widgets)] + ![Skin.HasSetting(home.modernwidgets) + Skin.HasSetting(home.vertical.widgets)]">defaultcontroltrue</include>
    <include condition="[Skin.HasSetting(home.vertical) + Skin.HasSetting(home.vertical.widgets)] | [Skin.HasSetting(home.modernwidgets) + Skin.HasSetting(home.vertical.widgets)]">defaultcontrolfalse</include>
    <onload>RunScript(script.skinshortcuts,type=buildxml&amp;mainmenuID=300&amp;group=mainmenu|x1111|x1112|x1113|x1114|x1115|x1116|x1117|x1118|x1119|powermenu&amp;levels=6)</onload>
    <onload condition="!String.IsEqual(Window(home).Property(ClearArtAnimation),Container(300).ListItem.Label)">SetProperty(ClearArtAnimation,$INFO[Container(300).ListItem.Label],home)</onload>
    <onunload>ClearProperty(ClearArtAnimation,home)</onunload>
    <onload condition="false">ReplaceWindow(1296)</onload>
    <onload condition="$EXP[HasHomemenuAutoSlideOutAnimation]">CancelAlarm(slide_out,true)</onload>
    <onunload condition="$EXP[HasHomemenuAutoSlideOutAnimation]">CancelAlarm(slide_out,true)</onunload>
    <onunload>ClearProperty(TMDbHelper.WidgetContainer,home)</onunload>
    <onload condition="!$EXP[HomeIsModernMultiWidgets] + !$EXP[HomeIsVerticalMultiWidgets]">SetProperty(TMDbHelper.WidgetContainer,301,home)</onload>
    <onload condition="System.AddonIsEnabled(script.favourites)">RunScript(script.favourites)</onload>
    <onunload>Skin.Reset(TrailerPath)</onunload>
    <onunload>CancelAlarm(SetAutoTrailerControlStartTrailer,true)</onunload>
    <onunload>CancelAlarm(SetAutoTrailerControlSetTrailerPath,true)</onunload>
    <onunload>CancelAlarm(SetAutoTrailerControlStartBackgroundFade,true)</onunload>
    <controls>
        <include>GlobalBackground</include>

        <!-- Hidden Lists -->
        <include condition="!$EXP[HomeIsVerticalMultiWidgets] + !$EXP[HomeIsModernMultiWidgets]">MovieSetsList</include>
        <include condition="$EXP[HasHomemenuAutoSlideOutAnimation]">SlideOutHomemenuButton</include>
        <include>HomeBackgroundPlaylist</include>
        <include>AlbumAndSetsCount</include>
        <include>HomeActorsEmbuary</include>

        <!-- Other Menus And Widgets -->
        <include condition="$EXP[HomeIsVerticalMultiWidgets]">HomeVerticalMenuWidgets</include>
        <include condition="$EXP[HomeIsVertical]">HomeVerticalMenu</include>
        <include condition="!Skin.HasSetting(home.vertical) + !Skin.HasSetting(home.showclearlogotopright) + !Skin.HasSetting(home.modernwidgets)">HomeWeatherWidget</include>
        <include condition="!Skin.HasSetting(home.vertical) + !Skin.HasSetting(home.classicwidgets) + ![Skin.HasSetting(home.modernwidgets) + Skin.HasSetting(home.vertical.widgets)]">HomeWidgetInfo</include>
        <include condition="!Skin.HasSetting(home.vertical) + Skin.HasSetting(home.classicwidgets)">HomeClassicWidgets</include>

        <!-- Fade Out On HomeIsModernMultiWidgets -->
        <control type="group">
            <include condition="$EXP[HomeIsModernMultiWidgets]">Animation.HomeIsModernMultiWidgets</include>
            <include condition="$EXP[HomeIsModernMultiWidgets]">HomeWidgetInfoWidgets</include>
            <include condition="!Skin.HasSetting(home.vertical)">HomeHeader</include>
            <include condition="!Skin.HasSetting(home.vertical)">HomeNextRecording</include>
            <include condition="!Skin.HasSetting(home.vertical) + !Skin.HasSetting(home.hide.nowplaying)">HomeNowPlaying</include>
            <include condition="!Skin.HasSetting(home.vertical) + !Skin.HasSetting(home.classicwidgets)">HomeRow</include>
        </control>

        <!-- Submenus -->
        <include condition="!Skin.HasSetting(home.vertical) + Skin.HasSetting(home.submenu2) + !Skin.HasSetting(home.showicons)">HomeSubMenu2</include>
        <include condition="!Skin.HasSetting(home.vertical) + [!Skin.HasSetting(home.submenu2) | Skin.HasSetting(home.showicons)]">HomeSubMenu</include>

        <!-- Background And Furniture For Dialogs -->
        <control type="group">
            <include>Animation.FadeIn</include>
            <include>Animation.FadeOut</include>
            <visible>Window.IsVisible(DialogVideoInfo.xml) | Window.IsVisible(DialogMusicInfo.xml) | Window.IsVisible(DialogPVRInfo.xml) | Window.IsVisible(skin.arctic.zephyr.mod.script-gto-info.xml) | Window.IsVisible(DialogAddonInfo.xml)</visible>
            <include condition="[[!Skin.HasSetting(home.vertical) + !$EXP[HomeIsModernMultiWidgets]] | Skin.HasSetting(homemenu.clean.flix)]">GlobalBackgroundExtended</include>
        </control>

        <!-- Flags For Vertical Multi widgets -->
        <include condition="$EXP[HomeIsVerticalMultiWidgets] + [![$EXP[HomeIsVerticalMultiWidgets] + Skin.HasSetting(homemenu.vertical.noslide)] | [$EXP[HomeIsVerticalMultiWidgets] + Skin.HasSetting(homemenu.vertical.noslide) + Skin.HasSetting(home.showicons) + Skin.HasSetting(homemenu.only.icons)]]">HomeWidgetVerticalFlags</include>

        <!-- ClearLogo For Multi widgets -->
        <control type="group">
            <visible>[!Window.IsVisible(DialogVideoInfo.xml) + ![String.IsEqual(Container(300).ListItem.Property(widget),weatherdaily) | String.IsEqual(Container(300).ListItem.Property(widget),weatherhourly)]] | [!Window.IsVisible(DialogVideoInfo.xml) + [String.IsEqual(Container(300).ListItem.Property(widget),weatherdaily) | String.IsEqual(Container(300).ListItem.Property(widget),weatherhourly)] + String.IsEmpty(Skin.String(weather.fanart.path))]</visible>
            <visible>!Window.IsVisible(DialogMusicInfo.xml)</visible>
            <include condition="![Skin.HasSetting(home.vertical) + Skin.HasSetting(home.vertical.widgets)]">HomeClearLogo</include>
        </control>
        <!--<control type="label">
            <left>60</left>
            <right>60</right>
            <posy>60</posy>
            <font>EpisodeNumberNew</font>
            <textcolor>Dark1</textcolor>
            <height>45</height>
            <label fallback="19055">$INFO[Container(301).NumItems]</label>
        </control>
        <control type="label">
            <left>60</left>
            <right>60</right>
            <posy>100</posy>
            <font>EpisodeNumberNew</font>
            <textcolor>Dark1</textcolor>
            <height>45</height>
            <label fallback="19055">$INFO[Window(home).Property(LastId)]</label>
        </control>-->
        <control type="group">
            <visible>Skin.HasSetting(home.netflix.autoplay.trailer) + Skin.HasSetting(DebugInfo)</visible>
            <control type="image">
                <bottom>0</bottom>
                <width>100%</width>
                <height>180</height>
                <texture colordiffuse="3B999999">common/white.png</texture>
            </control>        
            <control type="grouplist">
                <height>490</height>
                <bottom>-310</bottom>
                <left>30</left>
                <orientation>vertical</orientation>
                <width>1500</width>
                <itemgap>-40</itemgap>
                <scrolltime>0</scrolltime>
                <control type="label">
                    <font>Tiny</font>
                    <textcolor>FFFFFFFF</textcolor>
                    <label fallback="19055">ListItem Trailer: $INFO[ListItem.Trailer]</label>
                </control>
                <control type="label">
                    <font>Tiny</font>
                    <textcolor>FFFFFFFF</textcolor>
                    <label fallback="19055">Trailer Path: $INFO[Skin.String(TrailerPath)]</label>
                </control>
                <control type="label">
                    <font>Tiny</font>
                    <textcolor>FFFFFFFF</textcolor>
                    <label fallback="19055">Trailer Path 2: $INFO[Skin.String(TrailerPath2)]</label>
                </control>
                <control type="label">
                    <font>Tiny</font>
                    <textcolor>FFFFFFFF</textcolor>
                    <label fallback="19055">Player Path: $INFO[Player.FileNameAndPath]</label>
                </control>
                <control type="label">
                    <font>Tiny</font>
                    <textcolor>FFFFFFFF</textcolor>
                    <label fallback="19055">Trailer status: playing</label>
                    <visible>String.IsEqual(Skin.String(TrailerPath),Player.FileNameAndPath) + !String.IsEmpty(Player.FileNameAndPath)</visible>
                </control>
                <control type="label">
                    <font>Tiny</font>
                    <textcolor>FFFFFFFF</textcolor>
                    <label fallback="19055">Trailer Status: nothing to do, should start in $VAR[NetflixTrailerDelayLabel] seconds, if focused</label>
                    <visible>!String.IsEmpty(ListItem.Trailer) + !Player.HasMedia + !String.IsEqual(Skin.String(TrailerPath),ListItem.Trailer) + ![String.IsEqual(Skin.String(TrailerPath),Player.FileNameAndPath) + !String.IsEmpty(Player.FileNameAndPath)]</visible>
                </control>
                <control type="label">
                    <font>Tiny</font>
                    <textcolor>FFFFFFFF</textcolor>
                    <label fallback="19055">Trailer Status: playing finished</label>
                    <visible>![!String.IsEmpty(ListItem.Trailer) + !Player.HasMedia + !String.IsEqual(Skin.String(TrailerPath),ListItem.Trailer) + ![String.IsEqual(Skin.String(TrailerPath),Player.FileNameAndPath) + !String.IsEmpty(Player.FileNameAndPath)]] + ![String.IsEqual(Skin.String(TrailerPath),Player.FileNameAndPath) + !String.IsEmpty(Player.FileNameAndPath)]</visible>
                </control>
            </control>
        </control>
    </controls>
</window>